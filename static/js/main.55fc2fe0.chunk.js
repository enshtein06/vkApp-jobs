(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,a){e.exports=a(294)},226:function(e,t,a){},228:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);a(173),a(198);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),i=a(31),l=a.n(i),s=a(19),u=a(20),p=a(22),d=a(21),m=a(23),h=a(26),y=a(30),v=a(24),b=a(3),E="REQUEST_LOOKUPS_VKAPI",g="START_LOOKUPS_VKAPI",f={isLoading:!1,values:{expirience:[{id:0,title:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"},{id:1,title:"\u041b\u044e\u0431\u043e\u0439"},{id:2,title:"\u0411\u0435\u0437 \u043e\u043f\u044b\u0442\u0430"},{id:3,title:"\u041c\u0435\u043d\u044c\u0448\u0435 \u0433\u043e\u0434\u0430"},{id:4,title:"\u041e\u0442 1 \u0433\u043e\u0434\u0430 \u0434\u043e 3 \u043b\u0435\u0442"},{id:5,title:"\u041e\u0442 3 \u0434\u043e 6 \u043b\u0435\u0442"},{id:6,title:"\u0411\u043e\u043b\u0435\u0435 6 \u043b\u0435\u0442"}],employmentType:[{id:0,title:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"},{id:1,title:"\u041b\u044e\u0431\u043e\u0439"},{id:2,title:"\u041f\u043e\u043b\u043d\u0430\u044f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u044c"},{id:3,title:"\u0427\u0430\u0441\u0442\u0438\u0447\u043d\u0430\u044f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u044c"},{id:4,title:"\u041f\u043e\u0434\u0440\u0430\u0431\u043e\u0442\u043a\u0430"},{id:5,title:"\u0421\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043a\u0430"}],schedule:[{id:0,title:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"},{id:1,title:"\u041b\u044e\u0431\u043e\u0439"},{id:2,title:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c"},{id:3,title:"\u0413\u0438\u0431\u043a\u0438\u0439 \u0433\u0440\u0430\u0444\u0438\u043a"},{id:4,title:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430"},{id:5,title:"\u0412\u0430\u0445\u0442\u043e\u0432\u044b\u0439 \u043c\u0435\u0442\u043e\u0434"}]}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:E,payload:{method:e,requestId:t,params:a}}},j="https://vk-jobs-application.herokuapp.com/api/",C="d46e057dd46e057dd46e057d96d404ca0ddd46ed46e057d8883a36cec96a5375f80147f",k=("".concat("vkjobs","/").concat("lookups"),a(9)),_=a.n(k),T=a(4),A=_.a.mark(x),S=_.a.mark(V);function x(e){var t,a,n,r;return _.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.method,n=t.requestId,r=t.params,c.next=3,Object(T.c)({type:g,payload:{requestId:n}});case 3:l.a.send("VKWebAppCallAPIMethod",{method:a,request_id:n,params:r});case 4:case"end":return c.stop()}},A)}function V(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.e)(E,x)]);case 2:case"end":return e.stop()}},S)}var w,L={isLoading:!1,response:{count:0,items:[]}},I=function(e){return e.lookups},R=function(e){return I(e).values},U=function(e){return function(e){return I(e).cities||L}(e).response.items},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case g:return Object(b.a)({},e,Object(v.a)({},n.requestId,{isLoading:!0,response:{count:0,items:[]}}));case"SUCCESS_LOOKUPS_VKAPI":return Object(b.a)({},e,Object(v.a)({},n.requestId,{isLoading:!1,response:n.result}));default:return e}},N="vacations",F="".concat("vkjobs","/").concat(N),B="vacations",H="".concat(F,"/FETCH_VACATIONS_REQUEST"),D="".concat(F,"/FETCH_VACATIONS_START"),K="".concat(F,"/FETCH_VACATIONS_SUCCESS"),M="".concat(F,"/FETCH_VACATIONS_ERROR"),z="".concat(F,"/FETCH_VACATIONS_TO_MODERATE_REQUEST"),q="".concat(F,"/FETCH_VACATIONS_TO_MODERATE_START"),G="".concat(F,"/FETCH_VACATIONS_TO_MODERATE_SUCCESS"),J="".concat(F,"/FETCH_VACATIONS_TO_MODERATE_ERROR"),W="".concat(F,"/FETCH_VACATION_REQUEST"),Q="".concat(F,"/FETCH_VACATION_START"),Z="".concat(F,"/FETCH_VACATION_SUCCESS"),X="".concat(F,"/FETCH_VACATION_ERROR"),Y="".concat(F,"/CREATE_VACATION_REQUEST"),$="".concat(F,"/CREATE_VACATION_START"),ee="".concat(F,"/CREATE_VACATION_SUCCESS"),te="".concat(F,"/CREATE_VACATION_ERROR"),ae="".concat(F,"/UPDATE_VACATION_REQUEST"),ne="".concat(F,"/UPDATE_VACATION_START"),re="".concat(F,"/UPDATE_VACATION_SUCCESS"),ce="".concat(F,"/UPDATE_VACATION_ERROR"),oe="".concat(F,"/DELETE_VACATION_REQUEST"),ie="".concat(F,"/DELETE_VACATION_START"),le="".concat(F,"/DELETE_VACATION_SUCCESS"),se="".concat(F,"/DELETE_VACATION_ERROR"),ue="".concat(F,"/FETCH_VACATIONS_FOR_VK_USER_REQUEST"),pe="".concat(F,"/FETCH_VACATIONS_FOR_VK_USER_START"),de="".concat(F,"/FETCH_VACATIONS_FOR_VK_USER_SUCCESS"),me="".concat(F,"/FETCH_VACATIONS_FOR_VK_USER_ERROR"),he="".concat(F,"/REJECT_VACATION_REQUEST"),ye="".concat(F,"/REJECT_VACATION_START"),ve="".concat(F,"/REJECT_VACATION_SUCCESS"),be="".concat(F,"/REJECT_VACATION_ERROR"),Ee="".concat(F,"/ALLOW_VACATION_REQUEST"),ge="".concat(F,"/ALLOW_VACATION_START"),fe="".concat(F,"/ALLOW_VACATION_SUCCESS"),Oe="".concat(F,"/ALLOW_VACATION_ERROR"),je={loading:!1,error:null,entities:[],isAllLoaded:!1},Ce={isLoading:!1,isLoaded:!1,entities:[],error:null},ke={loading:!1,error:null,entities:[],isAllLoaded:!1},_e={create:{loading:!1,isCreated:!1,error:null,entity:null},update:{loading:!1,error:null,entity:null,isLoaded:!1},delete:{loading:!1,error:null,entity:null}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case $:return Object(b.a)({},e,{create:Object(b.a)({},e.create,{isCreated:!1,loading:!0,error:null,entity:null})});case ee:return Object(b.a)({},e,{create:Object(b.a)({},e.create,{isCreated:!0,loading:!1,error:null,entity:n.entity})});case te:return Object(b.a)({},e,{create:Object(b.a)({},e.create,{loading:!1,error:r,entity:null})});case ne:return Object(b.a)({},e,{update:Object(b.a)({},e.update,{loading:!0,error:null,entity:null,isLoaded:!1})});case re:return Object(b.a)({},e,{update:Object(b.a)({},e.update,{loading:!1,error:null,entity:n.entity,isLoaded:!0})});case ce:return Object(b.a)({},e,{update:Object(b.a)({},e.update,{loading:!1,error:r,entity:r,isLoaded:!0})});case ie:return Object(b.a)({},e,{delete:Object(b.a)({},e.delete,{loading:!0,error:null,entity:null})});case le:return Object(b.a)({},e,{delete:Object(b.a)({},e.delete,{loading:!1,error:null,entity:n.entity})});case se:return Object(b.a)({},e,{delete:Object(b.a)({},e.delete,{loading:!1,error:r,entity:null})});default:return e}},Ae={rejectedEntities:[],isLoading:!1,processId:null,error:null},Se={allowedEntities:[],isLoading:!1,processId:null,error:null},xe=Object(y.c)({info:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case Q:return Object(b.a)({},e,Object(v.a)({},n.entityId,{loading:!0,error:null,entity:null}));case Z:return Object(b.a)({},e,Object(v.a)({},n.entityId,{loading:!1,error:null,entity:n.entity}));case X:return Object(b.a)({},e,Object(v.a)({},n.entityId,{loading:!1,error:r,entity:null}));default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case D:return Object(b.a)({},e,{loading:!0,entities:n.shouldClear?[]:e.entities});case K:return Object(b.a)({},e,{loading:!1,entities:e.entities.concat(n.entities),isAllLoaded:n.isAllLoaded});case M:return Object(b.a)({},e,{loading:!1,error:r});default:return e}},methods:Te,vkUserList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case pe:return Object(b.a)({},e,{isLoaded:!1,isLoading:!0,error:null});case de:return Object(b.a)({},e,{isLoaded:!0,isLoading:!1,entities:n.entities,error:null});case me:return Object(b.a)({},e,{isLoaded:!0,isLoading:!1,error:r});default:return e}},listForModerate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case q:return Object(b.a)({},e,{error:null,loading:!0});case G:return Object(b.a)({},e,{error:null,loading:!1,entities:n.shouldClear?n.entities:e.entities.concat(n.entities),isAllLoaded:n.isAllLoaded});case J:return Object(b.a)({},e,{error:r,loading:!1});default:return e}},rejected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case ye:return Object(b.a)({},e,{processId:n.vacation._id,isLoading:!0,error:null});case ve:return Object(b.a)({},e,{isLoading:!1,rejectedEntities:e.rejectedEntities.concat(n.vacationId)});case be:return Object(b.a)({},e,{isLoading:!1,error:r});default:return e}},allowed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case ge:return Object(b.a)({},e,{processId:n.vacation._id,isLoading:!0,error:null});case fe:return Object(b.a)({},e,{isLoading:!1,allowedEntities:e.allowedEntities.concat(n.vacationId)});case Oe:return Object(b.a)({},e,{isLoading:!1,error:r});default:return e}}}),Ve=(w=H,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:w,payload:{params:e,shouldClear:t}}}),we=(function(e){}(W),function(e){return function(t){return{type:e,payload:{values:t}}}}(Y)),Le=(function(e){}(Y),function(e){return function(t,a){return{type:e,payload:{entityId:t,values:a}}}}(ae)),Ie=(function(e){}(ae),function(e){}(oe),function(e){return{type:ue,payload:{vkUserId:e}}}),Re=["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440","\u041c\u0430\u044f","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u0432","\u0414\u0435\u043a"],Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.length>t?"".concat(e.substring(0,t),"..."):e},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getDate(),a=Re[e.getMonth()],n=e.getHours(),r=e.getMinutes();return 1==="".concat(n).length&&(n="0".concat(n)),1==="".concat(r).length&&(r="0".concat(r)),"".concat(t," ").concat(a,", ").concat(n,":").concat(r)},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return t.length?t.reduce(function(t,a,n){return e[a]||void 0!==e[a]?"".concat(t).concat(0===n?"":"&").concat(a,"=").concat(e[a]):t},"?"):""}(e);return{action:"".concat(j).concat(t).concat(a),options:{method:"GET"}}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{action:"".concat(j).concat(t,"/").concat(e),options:{method:"GET"}}},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{action:"".concat(j).concat(t),options:{method:"POST",body:JSON.stringify(e)}}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{action:"".concat(j).concat(a,"/").concat(e),options:{method:"PUT",body:JSON.stringify(t)}}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{action:"".concat(j).concat(t,"/").concat(e),options:{method:"DELETE"}}},Ke=a(154),Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(Ke.a)(_.a.mark(function t(){var a,n,r,c;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.action&&e.action){t.next=2;break}throw new Error("Empty params by fetch");case 2:return(a=new Headers(e.options.headers||{})).append("Accept",e.type||"application/json;charset=utf-8"),a.append("Content-Type",e.type||"application/json; charset=utf-8"),t.next=7,fetch(e.action,Object.assign({},e.options,{headers:a}));case 7:if((n=t.sent).ok){t.next=10;break}throw new Error(n.status);case 10:if((r=n.headers.get("content-type"))&&r.includes("application/json")){t.next=13;break}return t.abrupt("return",n);case 13:return t.next=15,n.json();case 15:return c=t.sent,t.abrupt("return",Object(b.a)({},c,{status:n.status}));case 17:case"end":return t.stop()}},t)}))},ze="".concat("vkjobs","/").concat("user"),qe="".concat(ze,"/FETCH_VK_USER_REQUEST"),Ge="".concat(ze,"/FETCH_VK_USER_START"),Je="".concat(ze,"/FETCH_VK_USER_SUCCESS"),We="".concat(ze,"/FETCH_VK_USER_ERROR"),Qe="".concat(ze,"/INITIALIZE_VK_USER_DATA_REQUEST"),Ze="".concat(ze,"/INITIALIZE_VK_USER_DATA_START"),Xe="".concat(ze,"/INITIALIZE_VK_USER_DATA_SUCCESS"),Ye="".concat(ze,"/INITIALIZE_VK_USER_DATA_ERROR"),$e={isLoading:!1,error:null,entity:null,isLoaded:!1},et={isLoaded:!1,isLoading:!1,error:null,entity:null},tt=Object(y.c)({vkUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case Ge:return Object(b.a)({},e,{isLoading:!0,error:null,entity:null,isLoaded:!1});case Je:return Object(b.a)({},e,{isLoading:!1,error:null,entity:n.entity,isLoaded:!0});case We:return Object(b.a)({},e,{isLoading:!1,error:r,entity:null,isLoaded:!0});default:return e}},initialVkUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=t.error;switch(a){case Ze:return Object(b.a)({},e,{isLoaded:!1,isLoading:!0,error:null,entity:null});case Xe:return Object(b.a)({},e,{isLoaded:!0,isLoading:!1,error:null,entity:n.entity});case Ye:return Object(b.a)({},e,{isLoaded:!0,isLoading:!1,error:r,entity:null});default:return e}}}),at=_.a.mark(ct),nt=_.a.mark(ot),rt=_.a.mark(it);function ct(e){var t,a,n,r;return _.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(T.c)({type:Ge});case 3:return c.prev=3,a=Fe(t.vkUserId,"users"),c.next=7,Me(a);case 7:return n=c.sent,c.next=10,Object(T.b)(n);case 10:return r=c.sent,c.next=13,Object(T.c)({type:Je,payload:{entity:r.payload,vkUserId:t.vkUserId}});case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(3),c.next=19,Object(T.c)({type:We,error:c.t0});case 19:case"end":return c.stop()}},at,null,[[3,15]])}function ot(e){var t,a,n,r;return _.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.vkUserId,c.next=3,Object(T.c)({type:Ze});case 3:return c.prev=3,a=Fe(t,"users/initialize"),c.next=7,Me(a);case 7:return n=c.sent,c.next=10,Object(T.b)(n);case 10:return r=c.sent,c.next=13,Object(T.c)({type:Xe,payload:{entity:r.payload,vkUserId:t}});case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(3),c.next=19,Object(T.c)({type:Ye,error:c.t0});case 19:case"end":return c.stop()}},nt,null,[[3,15]])}function it(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.e)(qe,ct),Object(T.e)(Qe,ot)]);case 2:case"end":return e.stop()}},rt)}var lt=function(e){return e.user},st=function(e){return lt(e).initialVkUser},ut=function(e){return st(e).isLoaded},pt=function(e){return st(e).entity},dt=function(e){return pt(e).vkUserId},mt=tt,ht=_.a.mark(kt),yt=_.a.mark(_t),vt=_.a.mark(Tt),bt=_.a.mark(At),Et=_.a.mark(St),gt=_.a.mark(xt),ft=_.a.mark(Vt),Ot=_.a.mark(wt),jt=_.a.mark(Lt),Ct=_.a.mark(It);function kt(e){var t,a,n;return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(T.c)({type:q});case 2:return r.prev=2,t=Ne({isAllowed:!1},B),r.next=6,Me(t);case 6:return a=r.sent,r.next=9,Object(T.b)(a);case 9:return n=r.sent,r.next=12,Object(T.c)({type:G,payload:Object(b.a)({},e.payload,n.payload)});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(2),r.next=18,Object(T.c)({type:J,error:r.t0});case 18:case"end":return r.stop()}},ht,null,[[2,14]])}function _t(){var e,t,a,n,r,c=arguments;return _.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{payload:{params:{}}},t=e.payload,o.next=4,Object(T.c)({type:D,payload:e.payload});case 4:return o.prev=4,a=Ne(t.params,B),o.next=8,Me(a);case 8:return n=o.sent,o.next=11,Object(T.b)(n);case 11:return r=o.sent,o.next=14,Object(T.c)({type:K,moduleName:N,payload:Object(b.a)({},r.payload)});case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(4),o.next=20,Object(T.c)({type:M,moduleName:N,error:o.t0});case 20:case"end":return o.stop()}},yt,null,[[4,16]])}function Tt(){var e,t,a,n,r,c=arguments;return _.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{type:"",payload:{entityId:""}},t=e.payload.entityId,o.next=4,Object(T.c)({type:Q,moduleName:N});case 4:return o.prev=4,a=Fe(t,B),o.next=8,Me(a);case 8:return n=o.sent,o.next=11,Object(T.b)(n);case 11:return r=o.sent,o.next=14,Object(T.c)({type:Z,moduleName:N,payload:{entity:r.payload}});case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(4),o.next=20,Object(T.c)({type:X,moduleName:N,error:o.t0});case 20:case"end":return o.stop()}},vt,null,[[4,16]])}function At(){var e,t,a,n,r,c,o,i,l=arguments;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:{type:"",payload:{values:{}}},t=e.payload.values,s.next=4,Object(T.c)({type:$});case 4:return s.prev=4,a=Object(b.a)({},t),t.contact_name&&(a.contact=a.contact||{},a.contact.name=t.contact_name,delete a.contact_name),t.contact_numbers&&(a.contact=a.contact||{},a.contact.numbers=t.contact_numbers,delete a.contact_numbers),s.next=10,Object(T.d)(R);case 10:return n=s.sent,t.expirience&&n.expirience&&Array.isArray(n.expirience)&&(a.expirience=n.expirience.find(function(e){return e.id===+t.expirience})),t.employmentType&&n.employmentType&&Array.isArray(n.employmentType)&&(a.employmentType=n.employmentType.find(function(e){return e.id===+t.employmentType})),t.schedule&&n.schedule&&Array.isArray(n.schedule)&&(a.schedule=n.schedule.find(function(e){return e.id===+t.schedule})),r=Be(a,B),s.next=17,Me(r);case 17:return c=s.sent,s.next=20,Object(T.b)(c);case 20:return o=s.sent,s.next=23,Object(T.c)({type:ee,payload:{entity:o.payload}});case 23:return s.next=25,Object(T.d)(dt);case 25:return i=s.sent,s.next=28,Object(T.c)({type:ue,payload:{vkUserId:i}});case 28:s.next=34;break;case 30:return s.prev=30,s.t0=s.catch(4),s.next=34,Object(T.c)({type:te,error:s.t0});case 34:case"end":return s.stop()}},bt,null,[[4,30]])}function St(){var e,t,a,n,r,c,o,i,l,s,u=arguments;return _.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{type:"",payload:{values:{},entityId:""}},t=e.payload,a=t.values,n=t.entityId,p.next=4,Object(T.c)({type:ne});case 4:return p.prev=4,r=Object(b.a)({},a),a.contact_name&&(r.contact=r.contact||{},r.contact.name=a.contact_name,delete r.contact_name),a.contact_numbers&&(r.contact=r.contact||{},r.contact.numbers=a.contact_numbers,delete r.contact_numbers),p.next=10,Object(T.d)(R);case 10:return c=p.sent,a.expirience&&c.expirience&&Array.isArray(c.expirience)&&(r.expirience=c.expirience.find(function(e){return e.id===+a.expirience})),a.employmentType&&c.employmentType&&Array.isArray(c.employmentType)&&(r.employmentType=c.employmentType.find(function(e){return e.id===+a.employmentType})),a.schedule&&c.schedule&&Array.isArray(c.schedule)&&(r.schedule=c.schedule.find(function(e){return e.id===+a.schedule})),o=He(n,r,B),p.next=17,Me(o);case 17:return i=p.sent,p.next=20,Object(T.b)(i);case 20:return l=p.sent,p.next=23,Object(T.c)({type:re,payload:{entityId:n,entity:l.payload}});case 23:return p.next=25,Object(T.d)(dt);case 25:return s=p.sent,p.next=28,Object(T.c)(Ie(s));case 28:p.next=34;break;case 30:return p.prev=30,p.t0=p.catch(4),p.next=34,Object(T.c)({type:ce,error:p.t0,payload:{entityId:n}});case 34:case"end":return p.stop()}},Et,null,[[4,30]])}function xt(){var e,t,a,n,r=arguments;return _.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{type:"",payload:{entityId:""}},t=e.payload.entityId,c.next=4,Object(T.c)({type:ie});case 4:return c.prev=4,a=De(B),c.next=8,Me(a);case 8:return n=c.sent,c.next=11,Object(T.b)(n);case 11:return c.next=13,Object(T.c)({type:le,payload:{entityId:t}});case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(4),c.next=19,Object(T.c)({type:se,error:c.t0,payload:{entityId:t}});case 19:case"end":return c.stop()}},gt,null,[[4,15]])}function Vt(e){var t,a,n,r;return _.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.vkUserId,c.next=3,Object(T.c)({type:pe});case 3:return c.prev=3,a=Fe(t,"vacations/vkUser"),c.next=7,Me(a);case 7:return n=c.sent,c.next=10,Object(T.b)(n);case 10:return r=c.sent,c.next=13,Object(T.c)({type:de,payload:{entities:r.payload}});case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(3),c.next=19,Object(T.c)({type:me,error:c.t0});case 19:case"end":return c.stop()}},ft,null,[[3,15]])}function wt(){var e,t,a,n,r,c,o,i,l=arguments;return _.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:{payload:{vacation:null}},s.next=3,Object(T.c)({type:ye,payload:e.payload});case 3:return t=e.payload,a=t.vacation,n=t.reason,s.prev=4,r=Object(b.a)({},a,{isRejectedToShow:!0,rejectedReason:n}),c=He(a._id,r,B),o=Me(c),s.next=10,Object(T.b)(o);case 10:return i=s.sent,s.next=13,Object(T.c)({type:ve,payload:{vacationId:a._id,vacation:i.payload}});case 13:s.next=19;break;case 15:return s.prev=15,s.t0=s.catch(4),s.next=19,Object(T.c)({type:be,error:s.t0});case 19:case"end":return s.stop()}},Ot,null,[[4,15]])}function Lt(){var e,t,a,n,r,c,o=arguments;return _.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:{payload:{vacation:null}},i.next=3,Object(T.c)({type:ge,payload:e.payload});case 3:return t=e.payload.vacation,i.prev=4,a=Object(b.a)({},t,{isAllowToShow:!0}),n=He(t._id,a,B),r=Me(n),i.next=10,Object(T.b)(r);case 10:return c=i.sent,i.next=13,Object(T.c)({type:fe,payload:{vacationId:t._id,vacation:c.payload}});case 13:i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(4),i.next=19,Object(T.c)({type:Oe,error:i.t0});case 19:case"end":return i.stop()}},jt,null,[[4,15]])}function It(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.e)(H,_t),Object(T.e)(W,Tt),Object(T.e)(Y,At),Object(T.e)(ae,St),Object(T.e)(oe,xt),Object(T.e)(ue,Vt),Object(T.e)(z,kt),Object(T.e)(he,wt),Object(T.e)(Ee,Lt)]);case 2:case"end":return e.stop()}},Ct)}a(210);var Rt,Ut=function(e){return e[N]},Pt=function(e){return Ut(e).methods},Nt=function(e){return Ut(e).list},Ft=function(e){return Ut(e).vkUserList},Bt=function(e){return Ut(e).rejected},Ht=function(e){return Ut(e).allowed},Dt=function(e){return Ft(e).isLoaded},Kt=function(e){return Ft(e).entities},Mt=function(e){return Ft(e).error},zt=function(e){return Nt(e).loading},qt=function(e){return Nt(e).error},Gt=function(e){return Nt(e).entities},Jt=function(e){return Nt(e).isAllLoaded},Wt=function(e){return Pt(e).create},Qt=function(e){return Wt(e).loading},Zt=function(e){return Wt(e).isCreated},Xt=function(e){return Wt(e).entity},Yt=function(e){return Wt(e).error},$t=function(e){return Pt(e).update},ea=function(e){return $t(e).loading},ta=function(e){return $t(e).isLoaded},aa=function(e){return $t(e).entity},na=function(e){return $t(e).error},ra=function(e){return Bt(e).rejectedEntities},ca=function(e){return Bt(e).isLoading},oa=function(e){return Bt(e).processId},ia=function(e){return Bt(e).error},la=function(e){return Ht(e).allowedEntities},sa=xe,ua=Object(y.c)((Rt={},Object(v.a)(Rt,"lookups",P),Object(v.a)(Rt,N,sa),Object(v.a)(Rt,"user",mt),Rt)),pa=a(170),da=_.a.mark(ma);function ma(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([V(),It(),it()]);case 2:case"end":return e.stop()}},da)}var ha=a(155),ya=a.n(ha);var va=a(1),ba=(a(225),a(68)),Ea=a(156),ga=a.n(Ea),fa=(a(226),"accountVacation"),Oa="rejectVacation",ja=a(171),Ca=a(157),ka=a.n(Ca),_a=a(109),Ta=a.n(_a),Aa=Object(va.platform)(),Sa=function(e){return r.a.createElement(va.HeaderButton,e,Aa===va.IOS?r.a.createElement(ka.a,null):r.a.createElement(Ta.a,null))},xa=(a(227),a(228),a(59)),Va=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={search:"",skip:20},a.componentDidMount=function(){a.props.fetchVacations({skip:0,isAllowToShow:!0,"city.id":a.props.selectedCity.id,isNotActive:!1},!0)},a.timer=null,a.handleSearchChange=function(e){a.setState({search:e}),a.timer&&clearTimeout(a.timer),a.timer=setTimeout(function(){a.props.fetchVacations({skip:0,name:e,isAllowToShow:!0,"city.id":a.props.selectedCity.id,isNotActive:!1},!0),a.setState({skip:20})},1e3)},a.handleBackClick=function(){var e=a.props;(0,e.goBack)(e.back)},a.handleToggleContext=function(){a.setState(function(e){return{contextOpened:!e.contextOpened}})},a.handleGoToExtendedFilters=function(){a.props.goToPanel("extendedfilters")},a.handleListScroll=function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;a.props.vacations.length;if(a.props.isAllLoaded||a.props.isLoading)return null;!a.props.isLoading&&n<t+r+10*n/100&&(a.props.fetchVacations({skip:a.state.skip,isAllowToShow:!0,"city.id":a.props.selectedCity.id,isNotActive:!1}),a.setState(function(e){return{skip:e.skip+20}}))},a.renderEmpty=function(){return r.a.createElement("div",{style:{marginLeft:10}},"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442")},a.renderHeadButton=r.a.createElement(Sa,{onClick:a.handleBackClick,"data-to":"home"}),a.renderSalary=function(e){var t=e.salaryTo,a=e.salaryFrom,n=null;switch(!0){case!(!a||t):n="".concat(a," \u0440\u0443\u0431.");break;case!(!t||a):n="".concat(t," \u0440\u0443\u0431.");break;case!(!t||!a):n="".concat(a).concat(t&&a?" - ".concat(t):""," \u0440\u0443\u0431.")}return n},a.renderCell=function(e){var t=e.key,n=e.index,c=e.style,o=e.parent,i=(Object(ja.a)(e,["key","index","style","parent"]),a.props.vacations[n]),l=i.name,s=(i.salaryTo,i.salaryFrom,i.organization),u=i.city,p=i.createdAt,d=i.description,m=o.props.width,h=a.renderSalary(i);return r.a.createElement("div",{key:t,style:c,className:"jobcell",name:n,onClick:function(){return a.props.handleCellClick(i)}},r.a.createElement("div",{className:"jobcell__head"},r.a.createElement("p",null,r.a.createElement("span",{className:"jobcell__head--name"},l),r.a.createElement("span",{className:"jobcell__head--salary"},h))),r.a.createElement("div",{className:"jobcell__subhead"},r.a.createElement("p",{className:"jobcell__subhead--organization"},s),r.a.createElement("p",{className:"jobcell__subhead--second"},r.a.createElement("span",{className:"jobcell__subhead--second-city"},u&&u.title),r.a.createElement("span",{className:"jobcell__subhead--second-created"},p?Pe(new Date(p)):null))),r.a.createElement("div",{className:"jobcell__body"},Ue(d,Math.round(m/2))))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.id;return r.a.createElement(va.Panel,{id:t},r.a.createElement(va.PanelHeader,{left:this.renderHeadButton},r.a.createElement(va.PanelHeaderContent,null,"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438")),r.a.createElement(va.Search,{value:this.state.search,onChange:this.handleSearchChange}),r.a.createElement(xa.a,null,function(t){var a=t.height,n=t.width;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xa.b,{rowCount:e.props.vacations.length,height:a-37,width:n,rowHeight:150,rowRenderer:e.renderCell,onScroll:e.handleListScroll,noRowsRenderer:e.renderEmpty}))}),this.props.isLoading&&r.a.createElement(va.Spinner,{size:"regular",style:{marginTop:20}}))}}]),t}(n.PureComponent),wa=Object(h.b)(function(e){return{vacations:Gt(e),isLoading:zt(e),error:qt(e),isAllLoaded:Jt(e)}},{fetchVacations:Ve})(Va),La=(a(289),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={fields:{category:{type:"select",top:"\u041f\u0440\u043e\u0444\u043e\u0431\u043b\u0430\u0441\u0442\u044c",options:[{id:"123",value:"",name:""}],name:"category",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0444\u043e\u0431\u043b\u0430\u0441\u0442\u044c",value:null},salaryFrom:{type:"text",placeholder:"\u043e\u0442",name:"salaryFrom",value:""},salaryTo:{type:"text",placeholder:"\u0434\u043e",name:"salaryTo",value:""},experience:{type:"select",top:"\u041e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b",options:[],name:"experience",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u043f\u044b\u0442\u0430",value:null},employmentType:{type:"select",top:"\u0422\u0438\u043f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438",options:[],name:"employmentType",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438",value:null},schedules:{type:"select",top:"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b",options:[],name:"schedules",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b",value:null}}},a.handleBackClick=function(){a.props.goBack()},a.renderButton=r.a.createElement(Sa,{onClick:a.handleBackClick}),a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState(function(e){var t=Object(b.a)({},e.fields[n],{value:r});return{fields:Object(b.a)({},e.fields,Object(v.a)({},n,t))}})},a.handleFormSubmit=function(){a.props.handleFormSubmit(a.state.fields)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.id,t=this.state.fields,a=t.salaryFrom,n=t.salaryTo,c=t.category,o=t.experience,i=t.employmentType,l=t.schedules;return r.a.createElement(va.Panel,{id:e},r.a.createElement(va.PanelHeader,{left:this.renderButton},"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a"),r.a.createElement(va.FormLayout,null,r.a.createElement(va.Button,{onClick:this.handleFormSubmit,size:"xl"},"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u043e\u0438\u0441\u043a"),r.a.createElement(va.Select,Object.assign({},c,{onChange:this.handleChange}),c.options.map(function(e){return r.a.createElement("option",{key:e.id,value:e.value},e.name)})),r.a.createElement(va.FormLayoutGroup,{top:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0430"},r.a.createElement(va.Input,Object.assign({},a,{onChange:this.handleChange})),r.a.createElement(va.Input,Object.assign({},n,{onChange:this.handleChange}))),r.a.createElement(va.Select,Object.assign({},o,{onChange:this.handleChange})),r.a.createElement(va.Select,Object.assign({},i,{onChange:this.handleChange})),r.a.createElement(va.Select,Object.assign({},l,{onChange:this.handleChange})),r.a.createElement("div",{className:"extendedfilters__search"},r.a.createElement("button",{onClick:this.handleFormSubmit},"\u041f\u043e\u0438\u0441\u043a"))))}}]),t}(n.PureComponent)),Ia=(a(290),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).renderHeadButton=r.a.createElement(Sa,{onClick:a.props.goBack}),a.renderSalary=function(e){var t=e.salaryTo,a=e.salaryFrom,n=null;switch(!0){case!(!a||t):n="".concat(a," \u0440\u0443\u0431.");break;case!(!t||a):n="".concat(t," \u0440\u0443\u0431.");break;case!(!t||!a):n="".concat(a).concat(t&&a?" - ".concat(t):""," \u0440\u0443\u0431.")}return n},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.entity,n=a.activities,c=a.address,o=a.bonuses,i=a.city,l=a.contacts,s=a.createdAt,u=a.description,p=a.employmentType,d=a.expirience,m=a.name,h=a.organization,y=a.requirments,v=(a.salaryFrom,a.salaryTo,a.schedule,a.updatedAt,a.user,a.wishes),b=a.contact,E=this.renderSalary(a);return r.a.createElement(va.Panel,{id:t},r.a.createElement(va.PanelHeader,{left:this.renderHeadButton},"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u044f"),r.a.createElement("div",{className:"jobpage"},r.a.createElement("h3",{className:"jobpage__name"},m),r.a.createElement("p",{className:"jobpage__salary"},E),r.a.createElement("p",{className:"jobpage__organization"},"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f: ",h),s&&r.a.createElement("p",{className:"jobpage__created"},"\u0421\u043e\u0437\u0434\u0430\u043d\u043e: ",Pe(new Date(s))),r.a.createElement("p",{className:"jobpage__address"},"\u0413\u0434\u0435: ",c&&i&&i.title?"".concat(c,", ").concat(i.title):"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"),!!d&&r.a.createElement("p",{className:"jobpage__expirience"},r.a.createElement("span",{className:"jobpage__expirience-title"},"\u0422\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0439 \u043e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b:"," "),r.a.createElement("span",{className:"jobpage__expirience-value"},d.title)),!!p&&r.a.createElement("p",{className:"jobpage__employmentType"},r.a.createElement("span",{className:"jobpage__employmentType-title"},"\u0422\u0438\u043f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438:"," "),r.a.createElement("span",{className:"jobpage__employmentType-value"},p.title)),r.a.createElement("p",{className:"jobpage__description"},u),!!y&&Array.isArray(y)&&!!y.length&&r.a.createElement("div",{className:"jobpage__requirments"},r.a.createElement("h4",null,"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u043a\u0430\u043d\u0434\u0438\u0434\u0430\u0442\u0443:"),y.map(function(e,t){return r.a.createElement("p",{key:t},e)})),!!v&&Array.isArray(v)&&!!v.length&&r.a.createElement("div",{className:"jobpage__wish"},r.a.createElement("h4",null,"\u0411\u0443\u0434\u0435\u0442 \u043f\u043b\u044e\u0441\u043e\u043c:"),v.map(function(e,t){return r.a.createElement("p",{key:t},e)})),!!n&&Array.isArray(n)&&!!n.length&&r.a.createElement("div",{className:"jobpage__activity"},r.a.createElement("h4",null,"\u0427\u0435\u043c \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f:"),n.map(function(e,t){return r.a.createElement("p",{key:t},e)})),!!o&&Array.isArray(o)&&!!o.length&&r.a.createElement("div",{className:"jobpage__bonuses"},r.a.createElement("h4",null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435:"),o.map(function(e,t){return r.a.createElement("p",{key:t},e)})),!!l&&Array.isArray(l)&&!!l.length&&r.a.createElement("div",{className:"jobpage__contacts"},r.a.createElement("h4",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),l.map(function(e){return r.a.createElement("p",{key:e.id},r.a.createElement("span",null,e.name),": ",r.a.createElement("span",null,e.numbers))})),b&&r.a.createElement("div",{className:"jobpage__contacts"},r.a.createElement("h4",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),b.name&&r.a.createElement("p",null,r.a.createElement("span",null,"\u0418\u043c\u044f: "),b.name&&r.a.createElement("span",null,b.name)),b.numbers&&r.a.createElement("p",null,r.a.createElement("span",null,"\u041d\u043e\u043c\u0435\u0440: "),b.numbers&&r.a.createElement("span",null,b.numbers)))))}}]),t}(n.PureComponent)),Ra=a(169),Ua=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438!";return e?null:t},Pa={name:{id:"name",props:{name:"name",type:"text",top:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",placeholder:"\u041a\u043e\u0433\u043e \u0432\u044b \u0438\u0449\u0438\u0442\u0435?",bottom:"* \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"},errorMsg:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438",error:null,validate:[Ua],required:!0},salaryFrom:{id:"salaryFrom",props:{name:"salaryFrom",type:"text",placeholder:"\u043e\u0442"},error:null,validate:[]},salaryTo:{id:"salaryTo",props:{name:"salaryTo",type:"text",placeholder:"\u0434\u043e"},error:null,validate:[]},organization:{id:"organization",props:{name:"organization",type:"text",top:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",placeholder:"\u0412\u0430\u0448\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f...",bottom:"* \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"},error:null,errorMsg:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438",validate:[Ua],required:!0},expirience:{id:"expirience",props:{name:"expirience",type:"select",top:"\u041e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b"},lookupKey:"expirience",error:null,validate:[]},description:{id:"description",props:{name:"description",type:"text",top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e \u0434\u043b\u044f \u0441\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u044f"},error:null,validate:[]},employmentType:{id:"employmentType",props:{name:"employmentType",type:"select",top:"\u0422\u0438\u043f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438"},lookupKey:"employmentType",error:null,validate:[]},schedule:{id:"schedule",props:{name:"schedule",type:"select",top:"\u0413\u0440\u0430\u0444\u0438\u043a",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b"},lookupKey:"schedule",error:null,validate:[]},requirments:{id:"requirments",props:{name:"requirments",type:"text",top:"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u0441\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u044e",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435"},error:null,validate:[],isMulti:!0},wishes:{id:"wishes",props:{name:"wishes",type:"text",top:"\u0411\u0443\u0434\u0435\u0442 \u043f\u043b\u044e\u0441\u043e\u043c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043b\u044e\u0441\u044b"},error:null,validate:[],isMulti:!0},activities:{id:"activities",props:{name:"activities",type:"text",top:"\u041e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435",placeholder:"\u0427\u0435\u043c \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f?"},error:null,validate:[],isMulti:!0},bonuses:{id:"bonuses",props:{name:"bonuses",type:"text",top:"\u0427\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0441\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u044c?",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u043e\u043d\u0443\u0441\u044b"},error:null,validate:[],isMulti:!0},contact_name:{id:"contact_name",props:{name:"contact_name",type:"text",placeholder:"\u0418\u043c\u044f"},error:null,validate:[],isMulti:!0},contact_numbers:{id:"contact_numbers",props:{name:"contact_numbers",type:"text",placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"},error:null,validate:[],isMulti:!0},contact_email:{id:"contact_email",props:{name:"contact_email",type:"text",placeholder:"Email"},error:null,validate:[],isMulti:!0},address:{id:"address",props:{name:"address",type:"text",top:"\u0412\u0430\u0448 \u0430\u0434\u0440\u0435\u0441",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"},error:null,validate:[]}},Na=[{message:"\u0412\u0430\u043c \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u0430\u043c\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",validate:function(e){var t=e.vkUser;e.vacations;return!(!t||t.isAbleToCreateVacations)}},{message:"\u0412\u044b \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439. \u041c\u043e\u0436\u0435\u0442\u0435 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043b\u0438\u043c\u0438\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435!",validate:function(e){var t=e.vkUser,a=e.vacations;return!!(t&&t.vacationsLimit&&Array.isArray(a)&&t.vacationsLimit<a.length)}},{message:"\u0412\u0430\u0441 \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0440\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0442\u044c",validate:function(e){return!e.vkUser}}],Fa=(a(291),Object(n.memo)(function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e"),e.errors.map(function(e){return r.a.createElement("p",null,e)}))})),Ba=[],Ha=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={values:Object(b.a)({},a.props.initialValues,{schedule:"0",employmentType:"0",expirience:"0"}),multiValues:{requirments:[0],wishes:[0],activities:[0],bonuses:[0],contacts:[0]},errors:{name:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438",organization:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438"},isLoading:!1,isErrorOccured:!1},a.handleModalClose=function(){a.props.handlePopuotChange(null),a.props.goBack()},a.successAlert=r.a.createElement(va.Alert,{actions:[{title:"\u041a\u0440\u0443\u0442\u043e!",autoclose:!0}],onClose:a.handleModalClose},r.a.createElement("h3",null,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438!"),r.a.createElement("p",null,"\u0421\u043e\u0432\u0441\u0435\u043c \u0441\u043a\u043e\u0440\u043e \u0435\u0435 \u0443\u0432\u0438\u0434\u044f\u0442 \u0432\u0430\u0448\u0438 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u0438.")),a.errorAlert=r.a.createElement(va.Alert,{actions:[{title:"\u041e\u043a",autoclose:!0}],onClose:a.handleModalClose},r.a.createElement("h3",null,"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e"),r.a.createElement("p",null,"\u041f\u0440\u0438\u0447\u0438\u043d\u043e\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c: "),r.a.createElement("ul",null,r.a.createElement("li",null,"\u0412\u044b \u0443\u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 3 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438. \u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0434\u043d\u0443 \u0438\u0437 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043b\u0438 \u041a\u0443\u043f\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"),r.a.createElement("li",null,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435."))),a.componentDidUpdate=function(e,t){!e.isCreationLoaded&&a.props.isCreationLoaded&&a.props.handlePopuotChange(a.successAlert),a.state.isErrorOccured&&!t.isErrorOccured&&a.props.handlePopuotChange(a.errorAlert)},a.handleCreateButtonClick=function(){a.props.createVacation(Object(b.a)({},a.state.values,{vkUserId:a.props.user&&a.props.user.id,city:a.props.selectedCity,user:a.props.user}))},a.handleChangeField=function(e){var t=e.currentTarget,n=t.name,r=t.value;if(n.includes("__")){var c=n.split("__"),o=Object(Ra.a)(c,2),i=o[0],l=o[1];a.setState(function(e){var t=e.values||{},a=t[i]?Object(ba.a)(t[i]):[];return a[+l]=r,{values:Object(b.a)({},t,Object(v.a)({},i,a))}})}else{var s=Pa[n];a.setState(function(e){var t={values:Object(b.a)({},e.values,Object(v.a)({},n,r))};if(Array.isArray(s.validate)&&s.validate.length){var a=null;s.validate.some(function(e){var t=e(r,s.errorMsg);return!!t&&(a=t,!0)}),t.errors=Object(b.a)({},e.errors,Object(v.a)({},n,a))}return t})}},a.handleAddButtonClick=function(e){var t=e.target.name;a.setState(function(e){return{multiValues:Object(b.a)({},e.multiValues,Object(v.a)({},t,e.multiValues[t]&&e.multiValues[t].concat(e.multiValues[t].length)))}})},a.renderError=function(e,t){return Na.reduce(function(a,n){return n.validate({vkUser:e,vacations:t})&&a.push(n.message),a},[])},a.renderContent=function(){var e=Pa.name,t=Pa.salaryFrom,n=Pa.salaryTo,c=Pa.organization,o=Pa.expirience,i=Pa.employmentType,l=Pa.schedule,s=(Pa.requirments,Pa.wishes,Pa.activities,Pa.bonuses,Pa.description),u=Pa.contact_name,p=Pa.contact_numbers,d=(Pa.contact_email,Pa.address);return r.a.createElement(va.FormLayout,null,r.a.createElement(va.Input,Object.assign({},e.props,{onChange:a.handleChangeField})),r.a.createElement(va.Input,Object.assign({},c.props,{onChange:a.handleChangeField})),r.a.createElement(va.FormLayoutGroup,{top:"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0430"},r.a.createElement(va.Input,Object.assign({},t.props,{onChange:a.handleChangeField})),r.a.createElement(va.Input,Object.assign({},n.props,{onChange:a.handleChangeField}))),r.a.createElement(va.Textarea,Object.assign({},s.props,{onChange:a.handleChangeField})),r.a.createElement(va.Select,Object.assign({},o.props,{onChange:a.handleChangeField,value:a.state.values[o.id]}),a.props.lookups&&a.props.lookups[o.lookupKey]?a.props.lookups[o.lookupKey].map(function(e){return r.a.createElement("option",{value:e.id},e.title)}):Ba),r.a.createElement(va.Select,Object.assign({},i.props,{onChange:a.handleChangeField,value:a.state.values[i.id]}),a.props.lookups&&a.props.lookups[i.lookupKey]?a.props.lookups[i.lookupKey].map(function(e){return r.a.createElement("option",{value:e.id},e.title)}):Ba),r.a.createElement(va.Select,Object.assign({},l.props,{onChange:a.handleChangeField,value:a.state.values[l.id]}),a.props.lookups&&a.props.lookups[l.lookupKey]?a.props.lookups[l.lookupKey].map(function(e){return r.a.createElement("option",{value:e.id},e.title)}):Ba),r.a.createElement(va.Input,Object.assign({},d.props,{onChange:a.handleChangeField})),r.a.createElement(va.FormLayoutGroup,{top:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"},r.a.createElement(va.Input,Object.assign({},u.props,{onChange:a.handleChangeField})),r.a.createElement(va.Input,Object.assign({},p.props,{onChange:a.handleChangeField}))),r.a.createElement(va.Button,{size:"xl",onClick:a.handleCreateButtonClick,disabled:!!Object.keys(a.state.errors).some(function(e){return a.state.errors[e]})},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e"))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.vkUser,a=e.vacations,n=this.renderError(t,a);return r.a.createElement(va.Panel,{id:this.props.id},r.a.createElement(va.PanelHeader,{left:r.a.createElement(Sa,{onClick:this.props.goBack})},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044e"),this.props.isUserLoaded?r.a.createElement("div",{className:"createVacation"},n.length?r.a.createElement(Fa,{errors:n}):this.renderContent()):r.a.createElement(va.Spinner,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isLoading!==t.isLoading?{isLoading:e.isLoading,isErrorOccured:!e.isLoading&&!!t.isLoading&&!!e.error}:null}}]),t}(n.PureComponent);Ha.defaultProps={initialValues:{}};var Da=Object(h.b)(function(e){return{isLoading:Qt(e),createdVacation:Xt(e),isCreationLoaded:Zt(e),error:Yt(e),lookups:R(e),vkUser:pt(e),vacations:Kt(e),isUserLoaded:ut(e)}},{createVacation:we})(Ha),Ka=(a(292),a(163)),Ma=a.n(Ka),za=a(112),qa=a.n(za),Ga=a(164),Ja=a.n(Ga),Wa=Object(n.memo)(function(e){return r.a.createElement(va.Panel,{id:e.id},r.a.createElement(va.PanelHeader,{left:r.a.createElement(Sa,{onClick:e.goBack})},r.a.createElement(va.PanelHeaderContent,null,"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442")),r.a.createElement(va.Group,null,r.a.createElement(va.List,null,r.a.createElement(va.Cell,{before:r.a.createElement(Ma.a,null),asideContent:r.a.createElement(qa.a,null),onClick:function(){return e.goToPanel("userVacations")}},"\u041c\u043e\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"),!(!e.appUser||!e.appUser.isAdmin)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(va.Cell,{before:r.a.createElement(Ja.a,null),asideContent:r.a.createElement(qa.a,null),onClick:function(){return e.goToPanel("vacationsForModerators")}},"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438")))))}),Qa=a(82),Za=a.n(Qa),Xa=a(165),Ya=a.n(Xa),$a=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(va.Panel,{id:"additionalPanel"},r.a.createElement(va.PanelHeader,{left:r.a.createElement(Sa,{onClick:this.props.goBack})},r.a.createElement(va.PanelHeaderContent,null,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438")),r.a.createElement(va.Group,{title:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},r.a.createElement(va.List,null,r.a.createElement(va.Cell,{before:r.a.createElement(Za.a,null)},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u0439\u0442\u0435 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u0441\u0432\u043e\u0438\u0445 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438!"),r.a.createElement(va.Cell,{before:r.a.createElement(Ya.a,null)},"\u0423\u0432\u0435\u043b\u0438\u0447\u044c\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0445 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u0434\u043e 10!"),r.a.createElement(va.CellButton,null,"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))))}}]),t}(n.PureComponent),en=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.userVacationsList,n=t.userVacationsError,c=t.userVacationsIsLoaded,o=t.goBack,i=null;return c?n?i=r.a.createElement(va.Group,null,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f-\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430!"):a.length?Array.isArray(a)&&a.length&&(i=r.a.createElement(va.List,null,a.map(function(t,a){return r.a.createElement(va.Cell,{key:a,onClick:function(){return e.props.handleCellClick(t)}},t.name)}))):i=r.a.createElement(va.Group,null,"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439!"):i=r.a.createElement("div",null,"loading..."),r.a.createElement(va.Panel,{id:"userVacations"},r.a.createElement(va.PanelHeader,{left:r.a.createElement(Sa,{onClick:o})},r.a.createElement(va.PanelHeaderContent,null,"\u041c\u043e\u0438 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438")),i)}}]),t}(n.PureComponent),tn=Object(h.b)(function(e){return{isLoading:zt(e),error:qt(e),isLoaded:Jt(e),vacations:Gt(e),user:pt(e),userVacationsList:Kt(e),userVacationsError:Mt(e),userVacationsIsLoaded:Dt(e)}})(en),an=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={limit:20,skip:20},a.componentDidMount=function(){a.props.fetchVacations({isRejectedToShow:!1,isAllowToShow:!1,skip:0},!0)},a.handleLoadVacations=function(){a.props.fetchVacations({skip:a.state.skip,isAllowToShow:!1,isRejectedToShow:!1}),a.setState(function(e){return{skip:e.skip+20}})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(va.Panel,{id:"vacationsForModerators"},r.a.createElement(va.PanelHeader,{left:r.a.createElement(Sa,{onClick:this.props.goBack})},r.a.createElement(va.PanelHeaderContent,null,"\u0412\u0430\u043a\u0430\u043d\u0441\u0438\u0438 \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438")),!!this.props.isLoading&&r.a.createElement(va.Spinner,{size:"regular"}),r.a.createElement(va.List,null,this.props.vacations.map(function(t){var a=r.a.createElement(va.Div,{style:{display:"flex"}},r.a.createElement(va.Button,{size:"l",stretched:!0,style:{marginRight:8},onClick:function(){return e.props.allowVacation(t)}},"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c"),r.a.createElement(va.Button,{size:"l",stretched:!0,level:"secondary",onClick:function(){return e.props.onVacationReject(t)}},"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c"));return e.props.allowed.some(function(e){return e===t._id})?a=r.a.createElement(va.Div,{style:{color:"#5181b8",fontWeight:900}},"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e!"):e.props.rejected.some(function(e){return e===t._id})&&(a=r.a.createElement(va.Div,{style:{color:"#E81C27",fontWeight:900}},"\u041e\u0442\u043a\u0430\u0437\u0430\u043d\u043e!")),r.a.createElement(va.Div,null,r.a.createElement("h3",null,"\u0418\u043c\u044f: ",t.name),r.a.createElement("p",null,"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430: \u043e\u0442 - ",t.salaryFrom||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e"," | \u0434\u043e - ",t.salaryTo||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"),r.a.createElement("p",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",t.description),r.a.createElement("p",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: \u0438\u043c\u044f - ",t.contact&&t.contact.name?t.contact.name:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"," | \u043d\u043e\u043c\u0435\u0440 - ",t.contact&&t.contact.numbers?t.contact.numbers:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"),a,r.a.createElement(va.Separator,null))}),this.props.isAllLoaded?r.a.createElement(va.Div,null,"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u0432\u0441\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438"):r.a.createElement(va.Div,null,r.a.createElement(va.Button,{onClick:this.handleLoadVacations,size:"xl"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"))))}}]),t}(n.PureComponent),nn=Object(h.b)(function(e){return{vacations:Gt(e),isLoading:zt(e),isAllLoaded:Jt(e),error:qt(e),allowed:la(e),rejected:ra(e)}},{fetchVacations:Ve,allowVacation:function(e){return{type:Ee,payload:{vacation:e}}}})(an),rn=a(166),cn=a.n(rn),on=a(167),ln=a.n(on),sn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={name:a.props.vacation&&a.props.vacation.name?a.props.vacation.name:"",description:a.props.vacation&&a.props.vacation.description?a.props.vacation.description:"",contact_name:a.props.vacation&&a.props.vacation.contact&&a.props.vacation.contact.name?a.props.vacation.contact.name:"",contact_numbers:a.props.vacation&&a.props.vacation.contact&&a.props.vacation.contact.numbers?a.props.vacation.contact.numbers:"",expirience:a.props.vacation&&a.props.vacation.expirience?"".concat(a.props.vacation.expirience.id):"0",employmentType:a.props.vacation&&a.props.vacation.employmentType?"".concat(a.props.vacation.employmentType.id):"0",schedule:a.props.vacation&&a.props.vacation.schedule?"".concat(a.props.vacation.schedule.id):"0",errorOccured:null},a.componentDidUpdate=function(e){e.isLoading&&!a.props.isLoading&&a.props.isLoaded&&(a.props.error?a.setState({errorOccured:a.props.error}):a.props.goBack())},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.handleUpClick=function(){a.props.handleUpClick(a.props.vacation)},a.handleSaveClick=function(){var e=Object(b.a)({},a.state);delete e.errorOccured,a.props.updateVacation(a.props.vacation._id,Object(b.a)({},a.props.vacation,e,{isAllowToShow:!1,isRejectedToShow:!1,rejectedReason:null}))},a.handleViewChange=function(){a.props.updateVacation(a.props.vacation._id,Object(b.a)({},a.props.vacation,{isNotActive:!a.props.vacation.isNotActive}))},a.renderStatus=function(e){var t=e.isAllowToShow,a=e.isRejectedToShow,n=e.rejectedReason,c="\u041d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0438";return a?c='\u041e\u0442\u043a\u0430\u0437\u0430\u043d\u043e. \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442 \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u0430 - "'.concat(n,'"'):t&&(c="\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e"),r.a.createElement(va.Group,{title:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u0438"},r.a.createElement(va.Div,null,c))},a.renderVacationsStatus=function(){return a.props.appUser.isPremiumAccount?r.a.createElement(va.Group,{title:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"},r.a.createElement(va.CellButton,{onClick:a.handleViewChange,before:a.props.vacation.isNotActive?r.a.createElement(Za.a,null):r.a.createElement(ln.a,null)},a.props.vacation.isNotActive?"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u043f\u043e\u0438\u0441\u043a\u0435":"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0432 \u043f\u043e\u0438\u0441\u043a\u0435")):null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.description,n=e.contact_name,c=e.contact_numbers,o=e.schedule,i=e.expirience,l=e.employmentType,s=this.props.lookupsValues,u=this.props.vacation;return r.a.createElement(va.Panel,{id:this.props.id},r.a.createElement(va.PanelHeader,{left:r.a.createElement(Sa,{onClick:this.props.goBack})},r.a.createElement(va.PanelHeaderContent,null,this.props.vacation&&this.props.vacation.name)),r.a.createElement(va.Group,null,r.a.createElement(va.List,null,r.a.createElement(va.CellButton,{before:r.a.createElement(cn.a,null),asideContent:null,onClick:this.handleUpClick,disabled:!u.isAllowToShow},r.a.createElement(va.Div,null,"\u041f\u043e\u0434\u043d\u044f\u0442\u044c \u0432 \u0442\u043e\u043f ",!u.isAllowToShow&&"(\u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430)")))),this.renderStatus(u),this.renderVacationsStatus(),r.a.createElement(va.Group,null,r.a.createElement(va.FormLayout,null,r.a.createElement(va.Input,{top:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0438",name:"name",value:t,onChange:this.handleChange}),r.a.createElement(va.Textarea,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"description",value:a,onChange:this.handleChange}),r.a.createElement(va.FormLayoutGroup,{top:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"},r.a.createElement(va.Input,{placeholder:"\u0418\u043c\u044f",name:"contact_name",value:n,onChange:this.handleChange}),r.a.createElement(va.Input,{placeholder:"\u041d\u043e\u043c\u0435\u0440",name:"contact_numbers",value:c,onChange:this.handleChange})),r.a.createElement(va.Select,{value:i,name:"expirience",top:"\u041e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b",onChange:this.handleChange},s.expirience.map(function(e,t){return r.a.createElement("option",{key:t,value:"".concat(e.id)},e.title)})),r.a.createElement(va.Select,{value:l,name:"employmentType",top:"\u0422\u0438\u043f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438",onChange:this.handleChange},s.employmentType.map(function(e,t){return r.a.createElement("option",{key:t,value:"".concat(e.id)},e.title)})),r.a.createElement(va.Select,{value:o,name:"schedule",top:"\u0413\u0440\u0430\u0444\u0438\u043a",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0430\u0444\u0438\u043a",onChange:this.handleChange},s.schedule.map(function(e,t){return r.a.createElement("option",{key:t,value:"".concat(e.id)},e.title)})),r.a.createElement(va.Div,null,"\u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438, \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u044f \u0441\u043d\u043e\u0432\u0430 \u0443\u0439\u0434\u0435\u0442 \u0432 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044e"),r.a.createElement(va.Button,{size:"xl",onClick:this.handleSaveClick},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(n.PureComponent),un=Object(h.b)(function(e){return{lookupsValues:R(e),isLoaded:ta(e),isLoading:ea(e),entity:aa(e),error:na(e)}},{updateVacation:Le})(sn),pn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={rejectReason:"\u0412\u0430\u043c \u043e\u0442\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0438, \u043f\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435: "},a.componentDidUpdate=function(e){e.isLoading&&!a.props.isLoading&&a.props.rejectedVacationIds.some(function(e){return a.props.vacation._id===e})&&a.props.goBack()},a.handleChange=function(e){var t=e.currentTarget,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a.handleClick=function(){return a.props.rejectVacation(a.props.vacation,a.state.rejectReason)},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(va.Panel,{id:this.props.id},r.a.createElement(va.PanelHeader,{left:r.a.createElement(Sa,{onClick:this.props.goBack})},r.a.createElement(va.PanelHeaderContent,null,"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c \u0432 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0438")),r.a.createElement(va.FormLayout,null,r.a.createElement(va.Textarea,{top:"\u041e\u0442\u043a\u0430\u0437 \u0434\u043b\u044f: ".concat(this.props.vacation.name,". | \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u043a\u0430\u0437\u0430:"),value:this.state.rejectReason,name:"rejectReason",onChange:this.handleChange}),r.a.createElement(va.Button,{onClick:this.handleClick,size:"xl"},"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c")))}}]),t}(n.PureComponent),dn=Object(h.b)(function(e,t){return{rejectedVacationIds:ra(e),isLoading:ca(e),error:ia(e),processId:oa(e)}},{rejectVacation:function(e,t){return{type:he,payload:{vacation:e,reason:t}}}})(pn),mn="account",hn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activePanel:"mainfork",history:["mainfork"],selected:null,createJobValues:{},popout:null,selectedAccountVacation:null,rejectedVacation:null,lastPage:""},a.goBack=function(){var e=Object(ba.a)(a.state.history),t=e.pop(),n=e[e.length-1];"mainfork"===n&&l.a.send("VKWebAppDisableSwipeBack"),a.setState({history:e,activePanel:n,lastPage:t})},a.goForward=function(e){var t=Object(ba.a)(a.state.history);t.push(e),"mainfork"===a.state.activePanel&&l.a.send("VKWebAppEnableSwipeBack"),a.setState({history:t,activePanel:e})},a.goToCityView=function(){a.props.goToView("selectcity")},a.goToFindJob=function(){a.goForward("findjob")},a.handleCellClick=function(e){a.setState({selected:e}),a.goForward("jobpage")},a.goToGiveJob=function(){return a.goForward("createvacation")},a.goToAccountData=function(){return a.goForward(mn)},a.handleExtendedFiltersSubmit=function(e){a.goBack()},a.handleAccountCellClick=function(e){a.goForward(fa),a.setState({selectedAccountVacation:e})},a.handleCreateJobValuesChange=function(e){},a.handlePopuotChange=function(e){return a.setState({popout:e})},a.handleVacationReject=function(e){a.goForward(Oa),a.setState({rejectedVacation:e})},a.handleVacationUpClick=function(e){l.a.send("VKWebAppOpenPayForm",{app_id:6999920,action:"pay-to-user",params:{amount:50,description:"description",user_id:273505331}})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.id,t=this.state.activePanel;return r.a.createElement(va.View,{id:e,activePanel:t,popout:this.state.popout},r.a.createElement(va.Panel,{id:"mainfork"},r.a.createElement(va.PanelHeader,null,"\u0420\u0430\u0431\u043e\u0442\u0430"),r.a.createElement("div",{className:"mainfork"},r.a.createElement("div",{className:"mainform-private"},r.a.createElement(va.Button,{before:r.a.createElement(ga.a,null),size:"xl",level:"secondary",onClick:this.goToAccountData},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442")),r.a.createElement("div",{className:"mainfork-wrapper"},r.a.createElement(va.Button,{size:"xl",onClick:this.goToFindJob,stretched:!0},"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"),r.a.createElement(va.Button,{size:"xl",onClick:this.goToGiveJob,level:"outline",stretched:!0},"\u0414\u0430\u044e \u0440\u0430\u0431\u043e\u0442\u0443"),r.a.createElement(va.FormLayout,null,r.a.createElement(va.SelectMimicry,{top:"\u041e\u0442\u043a\u0443\u0434\u0430 \u0432\u044b?",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",onClick:this.goToCityView},this.props.selectedCity.title))))),r.a.createElement(wa,{id:"findjob",goBack:this.goBack,goToPanel:this.goForward,handleCellClick:this.handleCellClick,selectedCity:this.props.selectedCity,lastPage:this.state.lastPage}),r.a.createElement(La,{id:"extendedfilters",goBack:this.goBack,handleFormSubmit:this.handleExtendedFiltersSubmit}),r.a.createElement(Ia,{id:"jobpage",goBack:this.goBack,goToPanel:this.goForward,entity:this.state.selected}),r.a.createElement(Da,{id:"createvacation",goBack:this.goBack,handleValuesUpdate:this.handleCreateJobValuesChange,initialValues:this.state.createJobValues,user:this.props.user,handlePopuotChange:this.handlePopuotChange,selectedCity:this.props.selectedCity}),r.a.createElement(Wa,{id:mn,goBack:this.goBack,goToPanel:this.goForward,vkUser:this.props.user,appUser:this.props.initialValues}),r.a.createElement($a,{id:"additionalPanel",goBack:this.goBack,goToPanel:this.goForward,vkUser:this.props.user,appUser:this.props.initialValues}),r.a.createElement(tn,{id:"userVacations",goBack:this.goBack,goToPanel:this.goForward,vkUser:this.props.user,appUser:this.props.initialValues,handleCellClick:this.handleAccountCellClick}),r.a.createElement(nn,{id:"vacationsForModerators",goBack:this.goBack,goToPanel:this.goForward,vkUser:this.props.user,appUser:this.props.initialValues,onVacationReject:this.handleVacationReject}),r.a.createElement(un,{id:fa,goBack:this.goBack,goToPanel:this.goForward,user:this.props.user,appUser:this.props.initialValues,vacation:this.state.selectedAccountVacation,handleUpClick:this.handleVacationUpClick}),r.a.createElement(dn,{id:Oa,goBack:this.goBack,vacation:this.state.rejectedVacation}))}}]),t}(n.Component),yn=Object(h.b)(function(e){return{initialValues:pt(e)}},{createVacation:we})(hn),vn=a(168),bn=a.n(vn),En=(a(293),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={activePanel:"main",searchValue:""},a.goToMain=function(){return a.props.goToView("mainfork")},a.handleSearchChange=function(e){a.setState({searchValue:e}),e.trim()?a.props.requestLookupsVkApi("database.getCities","cities",{country_id:1,need_all:1,v:"5.95",q:e,access_token:C}):!e.trim()&&e||a.props.requestLookupsVkApi("database.getCities","cities",{country_id:1,need_all:0,v:"5.95",access_token:C})},a.renderHeaderButton=r.a.createElement(Sa,{onClick:a.goToMain}),a.renderCell=function(e){var t=e.key,n=e.index,c=e.style,o=a.props.cities[n],i=o.title,l=o.id;return r.a.createElement("div",{key:t,style:c,className:"cityCell",name:n,onClick:function(){return a.props.handleCitySelected(o)}},i,a.props.selectedCity.id===l&&r.a.createElement("div",{className:"cityCell__arrow"},r.a.createElement(bn.a,null)))},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.id;return r.a.createElement(va.View,{id:t,activePanel:this.state.activePanel},r.a.createElement(va.Panel,{id:"main"},r.a.createElement(va.PanelHeader,{left:this.renderHeaderButton},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"),r.a.createElement(va.Search,{value:this.state.searchValue,onChange:this.handleSearchChange}),r.a.createElement(xa.a,null,function(t){var a=t.height,n=t.width;return r.a.createElement(xa.b,{rowCount:e.props.cities.length,height:a-40,width:n,rowHeight:44,rowRenderer:e.renderCell})})))}}]),t}(n.PureComponent)),gn=Object(h.b)(function(e){return{cities:U(e)}},{requestLookupsVkApi:O})(En),fn=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeView:"mainfork",fetchedUser:null,selectedCity:{title:"\u0413\u043e\u0440\u043e\u0434",id:0}},a.componentDidUpdate=function(e,t){t.fetchedUser||a.state.fetchedUser===t.fetchedUser||(a.props.initializeVkUserData(a.state.fetchedUser.id),a.props.fetchVacationsForVkUser(a.state.fetchedUser.id))},a.handleCitySelected=function(e){a.setState({selectedCity:e,activeView:"mainfork"})},a.goToView=function(e){a.setState({activeView:e})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;l.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data,selectedCity:t.detail.data.city});break;case"VKWebAppCallAPIMethodResult":e.props.putLookupsVkApiToStore(t.detail.data.request_id,t.detail.data.response);break;default:console.log(t)}}),l.a.send("VKWebAppInit",{}),l.a.send("VKWebAppGetUserInfo",{}),this.props.requestLookupsVkApi("database.getCities","cities",{country_id:1,need_all:0,v:"5.95",access_token:C})}},{key:"render",value:function(){return r.a.createElement(va.Root,{activeView:this.state.activeView},r.a.createElement(yn,{id:"mainfork",goToView:this.goToView,selectedCity:this.state.selectedCity,user:this.state.fetchedUser}),r.a.createElement(gn,{id:"selectcity",goToView:this.goToView,selectedCity:this.state.selectedCity,handleCitySelected:this.handleCitySelected}))}}]),t}(r.a.Component),On=Object(h.b)(function(e){return{}},{putLookupsVkApiToStore:function(e,t){return{type:"SUCCESS_LOOKUPS_VKAPI",payload:{requestId:e,result:t}}},requestLookupsVkApi:O,initializeVkUserData:function(e){return{type:Qe,payload:{vkUserId:e}}},fetchVacationsForVkUser:Ie})(fn),jn=function(){var e=Object(pa.a)(),t=Object(y.a)(e,ya.a),a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,n=Object(y.e)(ua,a(t));return e.run(ma),n}(),Cn=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:jn},r.a.createElement(On,null))}}]),t}(n.Component);l.a.send("VKWebAppInit",{}),o.a.render(r.a.createElement(Cn,null),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.55fc2fe0.chunk.js.map